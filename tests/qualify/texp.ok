texp.bb
  struct
    Texp
    value
      i8*
    list
      %struct.Texp**
    len
      i64
    cap
      i64
  str-table
    0
      "Texp{value: %s, len: %lu}\0A\00"
    1
      "Example Texp"
  decl
    malloc
    types
      i64
    i8*
  decl
    calloc
    types
      i64
      i64
    i8*
  def
    makeTexp
    params
      value
        i8*
      length
        i64
    %struct.Texp*
    let
      r
      cast
        i8*
        %struct.Texp*
        call
          malloc
          types
            i64
          i8*
          args
            32
    store
      a
      i8*
      index
        r
        %struct.Texp
        0
    if
      =
        i64
        length
        0
      store
        0
        %struct.Texp**
        index
          r
          %struct.Texp
          1
    if
      !=
        i64
        length
        0
      store
        cast
          i8*
          %struct.Texp**
          call
            calloc
            types
              i64
              i64
            i8*
            args
              length
              32
        %struct.Texp**
        index
          r
          %struct.Texp
          1
    store
      length
      i64
      index
        r
        %struct.Texp
        2
    store
      length
      i64
      index
        r
        %struct.Texp
        3
    return
      r
      %struct.Texp*
  decl
    printf
    types
      i8*
      ...
    i32
  decl
    free
    types
      i8*
    void
  def
    main
    params
      argc
        i32
      argv
        i8**
    i32
    let
      s
      call
        makeTexp
        types
          i8*
          i64
        %struct.Texp*
        args
          str-get
            1
          0
    call-vargs
      printf
      types
        i8*
        i8*
        i64
      i32
      args
        str-get
          0
        load
          i8*
          index
            s
            %struct.Texp
            0
        load
          i64
          index
            s
            %struct.Texp
            2
    call
      free
      types
        i8*
      void
      args
        cast
          %struct.Texp*
          i8*
          s
    return
      0
      i32
